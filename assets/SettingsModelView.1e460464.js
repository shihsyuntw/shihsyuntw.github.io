import{_ as Q,b as W,a as X,i as Y,e as P,r as Z,w as I,o as ee,g as b,h as d,j as e,k as l,n as le,p as S,F as y,c as oe,K as N,q as s,s as ae,t as i,v as p,N as te,l as O,z as se,O as A,x as j,P as z,A as ne,B as de}from"./index.06891447.js";const w=h=>(ne("data-v-7f35e408"),h=h(),de(),h),ce={class:"d-flex align-items-center mb-2"},re=w(()=>d("i",{class:"bx bx-child"},null,-1)),ue=w(()=>d("label",{class:"fs-3 fw-bold text-dark"},[d("strong",null,"Model Settings")],-1)),ie=w(()=>d("hr",null,null,-1)),pe={class:"card-header2"},_e={class:"pt-2"},fe={class:"d-flex justify-content-end"},me=w(()=>d("hr",null,null,-1)),ge={class:"d-flex justify-content-end"},he={__name:"SettingsModelView",setup(h){const U=W(),B=X(),x=Y("modelList"),M=P(),c=Z({fab:U.user.value.fab,stage:U.user.value.stage,models:[]}),_=P(!1),L=t=>{const n=c.models.indexOf(t);n!==-1&&c.models.splice(n,1)},$=()=>{let t={key:Date.now(),online:"1",name:"",url:"",pep:[],platforms:[],defects:[]};c.models.push(t)},F=t=>{let n={key:Date.now(),name:"",products:[]};t.platforms.push(n)},R=(t,n)=>{const r=t.platforms.indexOf(n);r!==-1&&t.platforms.splice(r,1)},q=t=>{!t||t.validate(async n=>{if(n){_.value=!0;const r=JSON.stringify(c);try{await oe.post(B.api_model_settings,r,{headers:{"Content-Type":"application/json"}}),N({type:"success",message:"Model settings saved successfully."})}catch(f){N({type:"error",message:f})}finally{_.value=!1}}})};return I(x,t=>{c.models=t}),ee(()=>{c.models=x}),(t,n)=>{const r=s("Plus"),f=s("el-icon"),m=s("el-button"),k=s("el-radio"),E=s("el-radio-group"),u=s("el-form-item"),C=s("el-input"),v=s("el-select"),T=s("el-card"),J=s("el-col"),K=s("el-row"),G=s("el-form"),H=ae("loading");return i(),b(y,null,[d("div",ce,[re,ue,e(m,{class:"ms-4",onClick:$,disabled:_.value},{default:l(()=>[e(f,{class:"me-2"},{default:l(()=>[e(r)]),_:1}),p(" Add Model ")]),_:1},8,["disabled"]),e(m,{type:"success",onClick:n[0]||(n[0]=a=>q(M.value)),disabled:_.value},{default:l(()=>[e(f,{class:"me-2"},{default:l(()=>[(i(),S(te(_.value?"Loading":"Select")))]),_:1}),p(" Save ")]),_:1},8,["disabled"])]),ie,le((i(),S(G,{ref_key:"formRef",ref:M,model:c,"label-width":"120px"},{default:l(()=>[e(K,{gutter:12},{default:l(()=>[(i(!0),b(y,null,O(c.models,(a,g)=>(i(),S(J,{lg:18,xl:8,key:a.key},{default:l(()=>[e(T,{class:"mt-4"},{header:l(()=>[d("div",pe,[d("h4",_e,se(a.name),1),e(m,{type:"danger",plain:"",onClick:A(o=>L(a),["prevent"])},{default:l(()=>[e(f,{class:"me-2"},{default:l(()=>[e(j(z))]),_:1}),p(" Delete Model ")]),_:2},1032,["onClick"])])]),default:l(()=>[e(u,{label:"Model Status:",prop:"models."+g+".online"},{default:l(()=>[e(E,{modelValue:a.online,"onUpdate:modelValue":o=>a.online=o,class:"ml-4"},{default:l(()=>[e(k,{label:"1"},{default:l(()=>[p("AIDI Online")]),_:1}),e(k,{label:"0"},{default:l(()=>[p("AIDI Offline")]),_:1}),e(k,{label:"2"},{default:l(()=>[p("Others")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),e(u,{label:"Model Name:",prop:"models."+g+".name",rules:{required:!0,message:"Model name can not be null",trigger:"blur"}},{default:l(()=>[e(C,{modelValue:a.name,"onUpdate:modelValue":o=>a.name=o},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),e(u,{label:"URL :",prop:"models."+g+".url"},{default:l(()=>[e(v,{style:{width:"100%"},size:"large",modelValue:a.url,"onUpdate:modelValue":o=>a.url=o,placeholder:"",multiple:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),e(u,{label:"PEP:",prop:"models."+g+".pep"},{default:l(()=>[e(v,{style:{width:"100%"},size:"large",modelValue:a.pep,"onUpdate:modelValue":o=>a.pep=o,placeholder:"",multiple:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),e(u,{label:"Defects:",prop:"models."+g+".defects"},{default:l(()=>[e(v,{style:{width:"100%"},size:"large",modelValue:a.defects,"onUpdate:modelValue":o=>a.defects=o,placeholder:"",multiple:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),d("div",fe,[e(m,{onClick:o=>F(a)},{default:l(()=>[e(f,{class:"me-2"},{default:l(()=>[e(r)]),_:1}),p(" Add Platform ")]),_:2},1032,["onClick"])]),(i(!0),b(y,null,O(a.platforms,(o,D)=>(i(),b(y,{key:o.key},[me,e(u,{label:"Platform Name:",prop:"platforms."+D+".name"},{default:l(()=>[e(C,{modelValue:o.name,"onUpdate:modelValue":V=>o.name=V},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),e(u,{label:"Products:",prop:"platforms."+D+".products"},{default:l(()=>[e(v,{style:{width:"100%"},size:"large",modelValue:o.products,"onUpdate:modelValue":V=>o.products=V,placeholder:"",multiple:"","allow-create":"",filterable:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"]),d("div",ge,[e(m,{type:"danger",icon:j(z),circle:"",onClick:A(V=>R(a,o),["prevent"])},null,8,["icon","onClick"])])],64))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["model"])),[[H,_.value]])],64)}}},Ve=Q(he,[["__scopeId","data-v-7f35e408"]]);export{Ve as default};
